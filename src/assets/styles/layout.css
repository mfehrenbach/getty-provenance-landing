:root {
	font-family: 'Graphik', sans-serif;
	font-size:   62.5%; /* For even maths. */

	* {
		font-kerning:             normal;
		font-smooth:              always;
		-moz-osx-font-smoothing:  grayscale;
		-webkit-font-smoothing:   antialiased;
		text-rendering:           optimizeLegibility;
		-webkit-text-size-adjust: none;
	}

	body {
		background-color:      var(--color--background);
		color:                 var(--color--foreground);
		display:               grid;
		font-size:             var(--type--size--small);
		font-weight:           var(--type--weight--regular);
		grid-template-columns: 100%;
		grid-template-rows:
			[header-start]
			min-content
			[header-end]
			1fr
			[search-start]
			min-content
			[search-end example-start]
			min-content
			[example-end]
			1fr
			[footer-start]
			min-content
			[footer-end];
		letter-spacing: var(--type--letter-spacing--small);
		line-height:    var(--type--line-height--heading);

		/* Spacer to set the upper track heights. */
		&::before {
			block-size: calc(100svh - var(--layout--alley) - 0.66em); /* Peek text. */
			content:    '';
			grid-row:   header-start / footer-start;
		}

		> * { grid-column: 1 } /* Allow overlapping. */

		/* Main header. */
		> header {
			backdrop-filter:  var(--layout--backdrop);
			background-color: var(--color--tint);
			grid-row:         header;
			z-index:          1;

			/* Breadcrumbs. */
			nav:first-child {
				background-color: var(--color--shade);

				ol {
					/* Logo. */
					svg {
						block-size:        0.7em; /* Roughly cap-height. */
						inset-block-start: 0.05em;
						position:          relative;
					}

					li:not(:first-child) {
						color:      var(--color--secondary);
						column-gap: calc(var(--layout--alley));
						display:    flex;

						&:not(:last-child)::after {
							content:       '/';
							margin-inline: -0.1em;
						}
					}
				}
			}

			h1 {
				font-size:           var(--type--size--large);
				font-weight:         var(--type--weight--semibold);
				letter-spacing:      var(--type--letter-spacing--large);
				line-height:         var(--type--line-height--display);
				margin-inline-start: -0.075em;
				padding-block-start: 1em;
				padding-inline:      var(--layout--gutter);
			}

			/* Main nav. */
			nav:last-child ul {
				font-size:      var(--type--size--medium);
				font-weight:    var(--type--weight--medium);
				letter-spacing: var(--type--letter-spacing--medium);
			}

			/* Might need to scroll on mobile. */
			nav :where(ol, ul) {
				column-gap:         var(--layout--alley);
				display:            flex;
				overflow:           auto;
				-ms-overflow-style: none; /* Edge. */
				padding-block:      1em;
				padding-inline:     var(--layout--gutter);
				scrollbar-width:    none; /* Firefox. */
				text-wrap:          nowrap;

				&::-webkit-scrollbar { display: none } /* Chrome, Safari. */
			}
		}

		/* Main search area/background. */
		> main {
			display: contents;

			form {
				background-color: var(--color--foreground);
				color:            var(--color--background);
				display:          flex;
				font-size:        var(--type--size--medium);
				grid-row:         search;
				justify-self:     center;
				letter-spacing:   var(--type--letter-spacing--medium);
				margin-inline:    var(--layout--gutter);
				outline-color:    var(--color--edge);
				outline-offset:   -0.1rem;
				outline-style:    solid;
				outline-width:    0.1rem;
				z-index:          1;

				*:focus { outline-color: var(--color--background) }

				/* Submit/search glass. */
				button {
					aspect-ratio:     1;
					background-color: var(--color--background);
					block-size:       3em;
					color:            var(--color--foreground);
					display:          grid;
					place-items:      center;
				}
			}

			/* Example records. */
			ul {
				display:  grid;
				inset:    0;
				position: fixed;

				li {
					background-image:    var(--background-image);
					background-position: center;
					background-size:     200rem; /* Temp. */
				}

				li:not(:first-child) { display: none } /* Temp. */
			}
		}

		/* Footer for legalese. */
		> footer {
			backdrop-filter:  var(--layout--backdrop);
			background-color: var(--color--tint);
			color:            var(--color--secondary);
			column-gap:       var(--layout--alley);
			display:          flex;
			grid-row:         footer;
			justify-content:  space-between;
			padding-block:    var(--layout--alley);
			padding-inline:   var(--layout--gutter);

			/* Notice text. */
			> p {
				align-self:        end;
				margin-inline-end: var(--layout--alley);
				text-wrap:         balance;
			}

			/* Legal links. */
			section {
				display:     grid;
				flex-shrink: 0;
				row-gap:     5em;

				ul {
					color:          var(--color--foreground);
					display:        grid;
					font-size:      var(--type--size--medium);
					font-weight:    var(--type--weight--medium);
					justify-items:  start;
					letter-spacing: var(--type--letter-spacing--medium);
					row-gap:        1em;
				}
			}
		}
	}
}
